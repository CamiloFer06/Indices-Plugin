/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => Indice
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var Indice = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.fileHeadersMap = /* @__PURE__ */ new Map();
  }
  async onload() {
    this.addCommand({
      id: "crear-indice",
      name: "Crear Indice",
      hotkeys: [{ modifiers: ["Mod"], key: "u" }],
      editorCheckCallback: (checking) => {
        const note = this.app.workspace.getActiveFile();
        if (note && note.parent) {
          if (!checking) {
            this.print(note.parent, note);
          }
          return true;
        }
        return false;
      }
    });
    this.addCommand({
      id: "actualizar-indices",
      name: "Actualizar Indices",
      hotkeys: [{ modifiers: ["Mod"], key: "q" }],
      checkCallback: (checking) => {
        const note = this.app.workspace.getActiveFile();
        if (note && note.parent) {
          if (!checking) {
            this.updateIndexNotes(note.parent);
          }
          return true;
        }
        return false;
      }
    });
    this.addCommand({
      id: "actualizar-todo",
      name: "Actualizar Todo",
      hotkeys: [{ modifiers: ["Mod", "Shift"], key: "u" }],
      callback: async () => {
        await this.updateAll();
        new import_obsidian.Notice("Indices Actualizados");
      }
    });
    this.registerEvent(
      this.app.vault.on("rename", this.handleFileRename.bind(this))
    );
    this.registerEvent(
      this.app.vault.on("create", await this.handleFileCreate.bind(this))
    );
    this.registerEvent(
      this.app.vault.on("modify", this.handleFileModify.bind(this))
    );
  }
  async createIndex(activeFolder, folderLvl, excludeNote) {
    if (folderLvl > 6) {
      return "";
    } else {
      let files = this.app.vault.getMarkdownFiles().filter((file) => file.parent === activeFolder);
      files = files.sort((a, b) => a.name.localeCompare(b.name));
      let index = "";
      if (folderLvl !== 0) {
        index += `${"#".repeat(folderLvl)} ${activeFolder.name}
`;
      }
      for (const file of files) {
        const fileName = file.basename;
        const filePath = file.path.replace(`.${file.extension}`, "");
        const metadata = this.app.metadataCache.getFileCache(file);
        const tags = (metadata == null ? void 0 : metadata.tags) ? metadata.tags.map((tagObj) => tagObj.tag) : [];
        if (file.parent && !tags.includes("#indice") && !(file === excludeNote)) {
          index += `- [[${filePath}|${fileName}]]
`;
          const fileContent = await this.app.vault.cachedRead(file);
          const headings = this.extractHeaders(fileContent);
          if (headings) {
            for (const heading of headings) {
              const match = heading.match(/^#+/);
              const hlevel = match ? match[0].length : -1;
              const line = hlevel < 4 ? `${"	".repeat(hlevel)}- [[${filePath}#${heading.replace(/^#+\s/, "")}|${heading.replace(/^#+\s/, "")}]]
` : "";
              index += line;
            }
          }
        }
      }
      const folders = this.app.vault.getAllFolders(false).filter((folder) => folder.parent === activeFolder);
      for (const folder of folders) {
        index += "\n";
        index += await this.createIndex(folder, folderLvl + 1);
      }
      return index;
    }
  }
  async print(fold, note) {
    const view = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    if (view) {
      const editor = view.editor;
      const content = editor.getValue();
      const index = await this.createIndex(fold, 0, note);
      const regex = /(<!-- inicio índice -->)([\s\S]*?)(<!-- fin índice -->)/;
      const match = content.match(regex);
      if (match) {
        const startPos = editor.offsetToPos(match.index + match[1].length);
        const endPos = editor.offsetToPos(match.index + match[0].length - match[3].length);
        const text = `
#indice

${index}
`;
        editor.replaceRange(text, startPos, endPos);
      } else {
        const text = `
<!-- inicio \xEDndice -->
#indice

${index}
<!-- fin \xEDndice -->
`;
        editor.replaceRange(text, editor.getCursor());
      }
    }
  }
  async updateIndexNotes(activeFolder) {
    const indexNotes = this.app.vault.getMarkdownFiles().filter((file) => {
      const metadata = this.app.metadataCache.getFileCache(file);
      const tags = (metadata == null ? void 0 : metadata.tags) ? metadata.tags.map((tagObj) => tagObj.tag) : [];
      if (!file.parent) {
        return false;
      }
      return activeFolder.path.startsWith(file.parent.path) && tags.includes("#indice");
    });
    let i = 0;
    for (const note of indexNotes) {
      if (!note.parent) {
        return;
      }
      const index = await this.createIndex(note.parent, 0);
      const content = await this.app.vault.read(note);
      const regex = /(<!-- inicio índice -->)([\s\S]*?)(<!-- fin índice -->)/;
      const newContent = content.replace(regex, `$1
#indice

${index}
$3`);
      await this.app.vault.modify(note, newContent);
      i += 1;
    }
  }
  //  ======== Maneja el renombrado de archivos. ========
  async handleFileRename(file, oldPath) {
    if (file instanceof import_obsidian.TFile && file.parent) {
      this.updateIndexNotes(file.parent);
      await this.updateHeaderMapForRenamedFile(file, oldPath);
    } else if (file instanceof import_obsidian.TFolder) {
      this.updateIndexNotes(file);
    }
  }
  // Función para actualizar el mapa de encabezados cuando se renombra una nota
  async updateHeaderMapForRenamedFile(file, oldPath) {
    const headers = this.fileHeadersMap.get(oldPath);
    if (headers) {
      this.fileHeadersMap.delete(oldPath);
    }
    const content = await this.app.vault.cachedRead(file);
    const newHeaders = this.extractHeaders(content);
    this.fileHeadersMap.set(file.path, newHeaders);
  }
  // ======== Maneja la creación de archivos ========
  async handleFileCreate(file) {
    if (file instanceof import_obsidian.TFile && file.parent) {
      const content = await this.app.vault.cachedRead(file);
      const headings = this.extractHeaders(content);
      this.fileHeadersMap.set(file.path, headings);
      this.updateIndexNotes(file.parent);
    } else if (file instanceof import_obsidian.TFolder) {
      this.updateIndexNotes(file);
    }
  }
  // ======== Maneja modificaciones de archivos solo si se detectan cambios en encabezados. ========
  async handleFileModify(file) {
    if (file.extension !== "md" || !file.parent)
      return;
    const content = await this.app.vault.cachedRead(file);
    const currentHeaders = this.extractHeaders(content);
    if (!this.fileHeadersMap.has(file.path)) {
      this.fileHeadersMap.set(file.path, currentHeaders);
      this.updateIndexNotes(file.parent);
      return;
    }
    const previousHeaders = this.fileHeadersMap.get(file.path) || [];
    if (this.headersHaveChanged(previousHeaders, currentHeaders)) {
      this.updateIndexNotes(file.parent);
    }
    this.fileHeadersMap.set(file.path, currentHeaders);
  }
  // ======== Extrae encabezados ========
  extractHeaders(content) {
    const headers = content.match(/^#+\s.+$/gm) || [];
    return headers;
  }
  // ======== Compara dos listas de encabezados
  headersHaveChanged(oldHeaders, newHeaders) {
    if (oldHeaders.length !== newHeaders.length)
      return true;
    for (let i = 0; i < oldHeaders.length; i++) {
      if (oldHeaders[i] !== newHeaders[i])
        return true;
    }
    return false;
  }
  async updateAll() {
    const files = this.app.vault.getFiles();
    for (const file of files) {
      this.handleFileModify(file);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luLCBURmlsZSwgVEZvbGRlciwgTWFya2Rvd25WaWV3LCBUQWJzdHJhY3RGaWxlLCBWYXVsdCwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5kaWNlIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRwcml2YXRlIGZpbGVIZWFkZXJzTWFwOiBNYXA8c3RyaW5nLCBzdHJpbmdbXT4gPSBuZXcgTWFwKCk7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnY3JlYXItaW5kaWNlJyxcclxuXHRcdFx0bmFtZTogJ0NyZWFyIEluZGljZScsXHJcblx0XHRcdGhvdGtleXM6IFt7IG1vZGlmaWVyczogWydNb2QnXSwga2V5OiAndScgfV0sXHJcblx0XHRcdGVkaXRvckNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG5vdGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xyXG5cclxuXHJcblx0XHRcdFx0aWYgKG5vdGUgJiYgbm90ZS5wYXJlbnQpIHtcclxuXHRcdFx0XHRcdGlmICghY2hlY2tpbmcpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wcmludChub3RlLnBhcmVudCwgbm90ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnYWN0dWFsaXphci1pbmRpY2VzJyxcclxuXHRcdFx0bmFtZTogJ0FjdHVhbGl6YXIgSW5kaWNlcycsXHJcblx0XHRcdGhvdGtleXM6IFt7IG1vZGlmaWVyczogWydNb2QnXSwga2V5OiAncScgfV0sXHJcblx0XHRcdGNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG5vdGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xyXG5cclxuXHRcdFx0XHRpZiAobm90ZSAmJiBub3RlLnBhcmVudCkge1xyXG5cclxuXHRcdFx0XHRcdGlmICghY2hlY2tpbmcpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy51cGRhdGVJbmRleE5vdGVzKG5vdGUucGFyZW50KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnYWN0dWFsaXphci10b2RvJyxcclxuXHRcdFx0bmFtZTogJ0FjdHVhbGl6YXIgVG9kbycsXHJcblx0XHRcdGhvdGtleXM6IFt7IG1vZGlmaWVyczogWydNb2QnLCAnU2hpZnQnXSwga2V5OiAndScgfV0sXHJcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy51cGRhdGVBbGwoKTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKCdJbmRpY2VzIEFjdHVhbGl6YWRvcycpO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdC8vIEVzY3VjaGFyIHJlbm9tYnJlYWRvIGRlIGFyY2hpdm9zXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMuYXBwLnZhdWx0Lm9uKCdyZW5hbWUnLCB0aGlzLmhhbmRsZUZpbGVSZW5hbWUuYmluZCh0aGlzKSlcclxuXHRcdClcclxuXHRcdC8vIEVzY3VjaGFyIGNyZWFjaVx1MDBGM24gZGUgYXJjaGl2b3NcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oJ2NyZWF0ZScsIGF3YWl0IHRoaXMuaGFuZGxlRmlsZUNyZWF0ZS5iaW5kKHRoaXMpKVxyXG5cdFx0KVxyXG5cdFx0Ly8gRXNjdWNoYXIgbW9kaWZpY2FjaW9uZXMgZGUgYXJjaGl2b3NcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oJ21vZGlmeScsIHRoaXMuaGFuZGxlRmlsZU1vZGlmeS5iaW5kKHRoaXMpKVxyXG5cdFx0KVxyXG5cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgY3JlYXRlSW5kZXgoYWN0aXZlRm9sZGVyOiBURm9sZGVyLCBmb2xkZXJMdmw6IG51bWJlciwgZXhjbHVkZU5vdGU/OiBURmlsZSkge1xyXG5cclxuXHRcdGlmIChmb2xkZXJMdmwgPiA2KSB7XHJcblx0XHRcdHJldHVybiAnJzsgLy9jYXNvIGJhc2VcclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cclxuXHRcdFx0Ly9vYnRlbmdvIG5vdGFzIGd1YXJkYWRhcyBkaXJlY3RhbWVudGUgZW4gY2FycGV0YVxyXG5cdFx0XHRsZXQgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCkuZmlsdGVyKGZpbGUgPT4gZmlsZS5wYXJlbnQgPT09IGFjdGl2ZUZvbGRlcik7XHJcblxyXG5cdFx0XHQvLyBvcmRlbm8gbGFzIG5vdGFzIGFsZmFiZXRpY2FtZW50ZVxyXG5cdFx0XHRmaWxlcyA9IGZpbGVzLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpO1xyXG5cclxuXHRcdFx0bGV0IGluZGV4ID0gJyc7XHJcblx0XHRcdGlmIChmb2xkZXJMdmwgIT09IDApIHtcclxuXHRcdFx0XHRpbmRleCArPSBgJHsnIycucmVwZWF0KGZvbGRlckx2bCl9ICR7YWN0aXZlRm9sZGVyLm5hbWV9XFxuYFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL2l0ZXJvIHNvYnJlIGxhcyBub3Rhc1xyXG5cdFx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcclxuXHJcblx0XHRcdFx0Ly9ndWFyZG8gZWwgbm9tYnJlIHNpbiBleHRlbnNpXHUwMEYzbiBkZSBsYSBub3RhXHJcblx0XHRcdFx0Y29uc3QgZmlsZU5hbWUgPSBmaWxlLmJhc2VuYW1lO1xyXG5cdFx0XHRcdGNvbnN0IGZpbGVQYXRoID0gZmlsZS5wYXRoLnJlcGxhY2UoYC4ke2ZpbGUuZXh0ZW5zaW9ufWAsIFwiXCIpO1xyXG5cclxuXHRcdFx0XHQvLyBvYnRlbmdvIGxhcyB0YWdzIGRlIGxhIG5vdGFcclxuXHRcdFx0XHRjb25zdCBtZXRhZGF0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xyXG5cdFx0XHRcdGNvbnN0IHRhZ3MgPSBtZXRhZGF0YT8udGFncyA/IG1ldGFkYXRhLnRhZ3MubWFwKHRhZ09iaiA9PiB0YWdPYmoudGFnKSA6IFtdO1xyXG5cclxuXHJcblx0XHRcdFx0Ly8gdmVyaWZpY28gcXVlIGV4aXN0YSBmaWxlLnBhcmVudCwgcXVlIGxhIG5vdGEgbm8gdGVuZ2EgbGEgdGFnICNpbmRpY2UgbyBxdWUgc2VhIGxhIG5vdGEgZXhjbHVpZGFcclxuXHRcdFx0XHRpZiAoZmlsZS5wYXJlbnQgJiYgIXRhZ3MuaW5jbHVkZXMoXCIjaW5kaWNlXCIpICYmICEoZmlsZSA9PT0gZXhjbHVkZU5vdGUpKSB7XHJcblxyXG5cdFx0XHRcdFx0Ly9hZ3JlZ28gbm9tYnJlIGRlIG5vdGEgYSBsYSBsaXN0YVxyXG5cdFx0XHRcdFx0aW5kZXggKz0gYC0gW1ske2ZpbGVQYXRofXwke2ZpbGVOYW1lfV1dXFxuYDtcclxuXHJcblx0XHRcdFx0XHQvLyBsZW8gZWwgY29udGVuaWRvIGRlIGxhIG5vdGFcclxuXHRcdFx0XHRcdGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZChmaWxlKTtcclxuXHJcblx0XHRcdFx0XHQvLyBmaWx0cm8gcGFyYSBidXNjYXIgZW5jYWJlemFkb3NcclxuXHRcdFx0XHRcdGNvbnN0IGhlYWRpbmdzID0gdGhpcy5leHRyYWN0SGVhZGVycyhmaWxlQ29udGVudCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gaXRlcm8gbG9zIGVuY2FiZXphZG9zIHkgbG9zIGFncmVnbyBhIGxhIGxpc3RhXHJcblx0XHRcdFx0XHRpZiAoaGVhZGluZ3MpIHtcclxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBoZWFkaW5nIG9mIGhlYWRpbmdzKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgbWF0Y2ggPSBoZWFkaW5nLm1hdGNoKC9eIysvKTtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBobGV2ZWwgPSBtYXRjaCA/IG1hdGNoWzBdLmxlbmd0aCA6IC0xO1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxpbmUgPSBobGV2ZWwgPCA0ID8gYCR7J1x0Jy5yZXBlYXQoaGxldmVsKX0tIFtbJHtmaWxlUGF0aH0jJHtoZWFkaW5nLnJlcGxhY2UoL14jK1xccy8sICcnKX18JHtoZWFkaW5nLnJlcGxhY2UoL14jK1xccy8sICcnKX1dXVxcbmAgOiAnJztcclxuXHRcdFx0XHRcdFx0XHRpbmRleCArPSBsaW5lO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL29idGVuZ28gbGFzIGNhcnBldGFzIGRpcmVjdGFtZW50ZSBlbiBsYSBhY3R1YWxcclxuXHRcdFx0Y29uc3QgZm9sZGVycyA9IHRoaXMuYXBwLnZhdWx0LmdldEFsbEZvbGRlcnMoZmFsc2UpLmZpbHRlcihmb2xkZXIgPT4gZm9sZGVyLnBhcmVudCA9PT0gYWN0aXZlRm9sZGVyKTtcclxuXHJcblx0XHRcdC8vcmVwaXRvIHBhcmEgY2FkYSBjYXJwZXRhXHJcblx0XHRcdGZvciAoY29uc3QgZm9sZGVyIG9mIGZvbGRlcnMpIHtcclxuXHRcdFx0XHRpbmRleCArPSAnXFxuJ1xyXG5cdFx0XHRcdGluZGV4ICs9IGF3YWl0IHRoaXMuY3JlYXRlSW5kZXgoZm9sZGVyLCBmb2xkZXJMdmwgKyAxKVxyXG5cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gaW5kZXhcclxuXHRcdH1cclxuXHJcblxyXG5cclxuXHJcblx0fVxyXG5cdHByaXZhdGUgYXN5bmMgcHJpbnQoZm9sZDogVEZvbGRlciwgbm90ZTogVEZpbGUpIHtcclxuXHRcdGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG5cclxuXHJcblx0XHRpZiAodmlldykge1xyXG5cdFx0XHRjb25zdCBlZGl0b3IgPSB2aWV3LmVkaXRvcjtcclxuXHRcdFx0Y29uc3QgY29udGVudCA9IGVkaXRvci5nZXRWYWx1ZSgpO1xyXG5cclxuXHJcblx0XHRcdGNvbnN0IGluZGV4ID0gYXdhaXQgdGhpcy5jcmVhdGVJbmRleChmb2xkLCAwLCBub3RlKTtcclxuXHJcblx0XHRcdGNvbnN0IHJlZ2V4ID0gLyg8IS0tIGluaWNpbyBcdTAwRURuZGljZSAtLT4pKFtcXHNcXFNdKj8pKDwhLS0gZmluIFx1MDBFRG5kaWNlIC0tPikvO1xyXG5cdFx0XHRjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2gocmVnZXgpO1xyXG5cclxuXHRcdFx0aWYgKG1hdGNoKSB7XHJcblx0XHRcdFx0Y29uc3Qgc3RhcnRQb3MgPSBlZGl0b3Iub2Zmc2V0VG9Qb3MobWF0Y2guaW5kZXghICsgbWF0Y2hbMV0ubGVuZ3RoKTtcclxuXHRcdFx0XHRjb25zdCBlbmRQb3MgPSBlZGl0b3Iub2Zmc2V0VG9Qb3MobWF0Y2guaW5kZXghICsgbWF0Y2hbMF0ubGVuZ3RoIC0gbWF0Y2hbM10ubGVuZ3RoKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgdGV4dCA9IGBcXG4jaW5kaWNlXFxuXFxuJHtpbmRleH1cXG5gO1xyXG5cclxuXHRcdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKHRleHQsIHN0YXJ0UG9zLCBlbmRQb3MpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNvbnN0IHRleHQgPSBgXFxuPCEtLSBpbmljaW8gXHUwMEVEbmRpY2UgLS0+XFxuI2luZGljZVxcblxcbiR7aW5kZXh9XFxuPCEtLSBmaW4gXHUwMEVEbmRpY2UgLS0+XFxuYFxyXG5cclxuXHRcdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKHRleHQsIGVkaXRvci5nZXRDdXJzb3IoKSlcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHVwZGF0ZUluZGV4Tm90ZXMoYWN0aXZlRm9sZGVyOiBURm9sZGVyKSB7XHJcblxyXG5cdFx0Y29uc3QgaW5kZXhOb3RlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKS5maWx0ZXIoZmlsZSA9PiB7XHJcblx0XHRcdGNvbnN0IG1ldGFkYXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk7XHJcblx0XHRcdGNvbnN0IHRhZ3MgPSBtZXRhZGF0YT8udGFncyA/IG1ldGFkYXRhLnRhZ3MubWFwKHRhZ09iaiA9PiB0YWdPYmoudGFnKSA6IFtdO1xyXG5cclxuXHRcdFx0Ly8gVmVyaWZpY2FyIHNpIGxhIG5vdGEgZXN0XHUwMEUxIGVuIGxhIGNhcnBldGEgYWN0dWFsIHkgY29udGllbmUgbGEgZXRpcXVldGEgI2luZGljZVxyXG5cdFx0XHRpZiAoIWZpbGUucGFyZW50KSB7IHJldHVybiBmYWxzZSB9XHJcblx0XHRcdHJldHVybiBhY3RpdmVGb2xkZXIucGF0aC5zdGFydHNXaXRoKGZpbGUucGFyZW50LnBhdGgpICYmIHRhZ3MuaW5jbHVkZXMoJyNpbmRpY2UnKTtcclxuXHRcdH0pXHJcblx0XHRsZXQgaSA9IDBcclxuXHRcdGZvciAoY29uc3Qgbm90ZSBvZiBpbmRleE5vdGVzKSB7XHJcblx0XHRcdGlmICghbm90ZS5wYXJlbnQpIHsgcmV0dXJuIH1cclxuXHRcdFx0Ly9jcmVvIGVsIGluZGljZVxyXG5cdFx0XHRjb25zdCBpbmRleCA9IGF3YWl0IHRoaXMuY3JlYXRlSW5kZXgobm90ZS5wYXJlbnQsIDApO1xyXG5cclxuXHRcdFx0Ly8gZ3VhcmRvIGVsIGNvbnRlbmlkbyBkZSBsYSBub3RhXHJcblx0XHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKG5vdGUpO1xyXG5cclxuXHRcdFx0Ly9idXNjbyBlbCBsdWdhciBkZWwgaW5kaWNlXHJcblx0XHRcdGNvbnN0IHJlZ2V4ID0gLyg8IS0tIGluaWNpbyBcdTAwRURuZGljZSAtLT4pKFtcXHNcXFNdKj8pKDwhLS0gZmluIFx1MDBFRG5kaWNlIC0tPikvO1xyXG5cclxuXHRcdFx0Ly8gcmVzY3JpYm8gZWwgaW5kaWNlXHJcblx0XHRcdGNvbnN0IG5ld0NvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UocmVnZXgsIGAkMVxcbiNpbmRpY2VcXG5cXG4ke2luZGV4fVxcbiQzYCk7XHJcblxyXG5cdFx0XHQvLyBlc2NyaWJvIGVsIG51ZXZvIGNvbnRlbmlkbyBlbiBsYSBub3RhXHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShub3RlLCBuZXdDb250ZW50KTtcclxuXHJcblxyXG5cdFx0XHRpICs9IDE7XHJcblxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gID09PT09PT09IE1hbmVqYSBlbCByZW5vbWJyYWRvIGRlIGFyY2hpdm9zLiA9PT09PT09PVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVSZW5hbWUoZmlsZTogVEFic3RyYWN0RmlsZSwgb2xkUGF0aDogc3RyaW5nKSB7XHJcblxyXG5cdFx0aWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBmaWxlLnBhcmVudCkge1xyXG5cdFx0XHR0aGlzLnVwZGF0ZUluZGV4Tm90ZXMoZmlsZS5wYXJlbnQpO1xyXG5cclxuXHRcdFx0Ly9BY3R1YWxpemFyIG1hcGEgZGUgZW5jYWJlemFkb3NcclxuXHRcdFx0YXdhaXQgdGhpcy51cGRhdGVIZWFkZXJNYXBGb3JSZW5hbWVkRmlsZShmaWxlLCBvbGRQYXRoKVxyXG5cclxuXHRcdH0gZWxzZSBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcclxuXHRcdFx0dGhpcy51cGRhdGVJbmRleE5vdGVzKGZpbGUpO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblx0Ly8gRnVuY2lcdTAwRjNuIHBhcmEgYWN0dWFsaXphciBlbCBtYXBhIGRlIGVuY2FiZXphZG9zIGN1YW5kbyBzZSByZW5vbWJyYSB1bmEgbm90YVxyXG5cdHByaXZhdGUgYXN5bmMgdXBkYXRlSGVhZGVyTWFwRm9yUmVuYW1lZEZpbGUoZmlsZTogVEZpbGUsIG9sZFBhdGg6IHN0cmluZykge1xyXG5cdFx0Ly8gVmVyaWZpY2FyIHNpIGV4aXN0ZSBsYSBlbnRyYWRhIHBhcmEgZWwgYW50aWd1byBjYW1pbm8gZW4gZWwgbWFwYVxyXG5cdFx0Y29uc3QgaGVhZGVycyA9IHRoaXMuZmlsZUhlYWRlcnNNYXAuZ2V0KG9sZFBhdGgpO1xyXG5cclxuXHRcdGlmIChoZWFkZXJzKSB7XHJcblx0XHRcdC8vIEVsaW1pbmFyIGxhIGVudHJhZGEgYW50aWd1YVxyXG5cdFx0XHR0aGlzLmZpbGVIZWFkZXJzTWFwLmRlbGV0ZShvbGRQYXRoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeHRyYWVyIGVuY2FiZXphZG9zIGFjdHVhbGVzIGRlIGxhIG5vdGEgcmVub21icmFkYVxyXG5cdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZSk7XHJcblx0XHRjb25zdCBuZXdIZWFkZXJzID0gdGhpcy5leHRyYWN0SGVhZGVycyhjb250ZW50KTtcclxuXHJcblx0XHQvLyBBZ3JlZ2FyIG51ZXZhIGVudHJhZGEgYWwgbWFwYSBjb24gZWwgbnVldm8gY2FtaW5vXHJcblx0XHR0aGlzLmZpbGVIZWFkZXJzTWFwLnNldChmaWxlLnBhdGgsIG5ld0hlYWRlcnMpO1xyXG5cdH1cclxuXHJcblx0Ly8gPT09PT09PT0gTWFuZWphIGxhIGNyZWFjaVx1MDBGM24gZGUgYXJjaGl2b3MgPT09PT09PT1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBoYW5kbGVGaWxlQ3JlYXRlKGZpbGU6IFRBYnN0cmFjdEZpbGUpIHtcclxuXHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZmlsZS5wYXJlbnQpIHtcclxuXHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZSk7XHJcblx0XHRcdGNvbnN0IGhlYWRpbmdzID0gdGhpcy5leHRyYWN0SGVhZGVycyhjb250ZW50KTtcclxuXHRcdFx0dGhpcy5maWxlSGVhZGVyc01hcC5zZXQoZmlsZS5wYXRoLCBoZWFkaW5ncyk7XHJcblx0XHRcdHRoaXMudXBkYXRlSW5kZXhOb3RlcyhmaWxlLnBhcmVudCk7XHJcblx0XHR9IGVsc2UgaWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XHJcblx0XHRcdHRoaXMudXBkYXRlSW5kZXhOb3RlcyhmaWxlKTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PSBNYW5lamEgbW9kaWZpY2FjaW9uZXMgZGUgYXJjaGl2b3Mgc29sbyBzaSBzZSBkZXRlY3RhbiBjYW1iaW9zIGVuIGVuY2FiZXphZG9zLiA9PT09PT09PVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVNb2RpZnkoZmlsZTogVEZpbGUpIHtcclxuXHRcdGlmIChmaWxlLmV4dGVuc2lvbiAhPT0gJ21kJyB8fCAhZmlsZS5wYXJlbnQpIHJldHVybjsgLy8gU29sbyBwcm9jZXNhciBhcmNoaXZvcyBNYXJrZG93biBjb24gY2FycGV0YSBwYWRyZVxyXG5cclxuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xyXG5cdFx0Y29uc3QgY3VycmVudEhlYWRlcnMgPSB0aGlzLmV4dHJhY3RIZWFkZXJzKGNvbnRlbnQpO1xyXG5cclxuXHRcdC8vIFNpIGVsIGFyY2hpdm8gYVx1MDBGQW4gbm8gZXN0XHUwMEUxIGVuIGVsIG1hcGEsIGFncmVnYXJsby5cclxuXHRcdGlmICghdGhpcy5maWxlSGVhZGVyc01hcC5oYXMoZmlsZS5wYXRoKSkge1xyXG5cdFx0XHR0aGlzLmZpbGVIZWFkZXJzTWFwLnNldChmaWxlLnBhdGgsIGN1cnJlbnRIZWFkZXJzKTtcclxuXHRcdFx0dGhpcy51cGRhdGVJbmRleE5vdGVzKGZpbGUucGFyZW50KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENvbXBhcmFyIGVuY2FiZXphZG9zIGFudGVyaW9yZXMgY29uIGxvcyBhY3R1YWxlc1xyXG5cdFx0Y29uc3QgcHJldmlvdXNIZWFkZXJzID0gdGhpcy5maWxlSGVhZGVyc01hcC5nZXQoZmlsZS5wYXRoKSB8fCBbXTtcclxuXHRcdGlmICh0aGlzLmhlYWRlcnNIYXZlQ2hhbmdlZChwcmV2aW91c0hlYWRlcnMsIGN1cnJlbnRIZWFkZXJzKSkge1xyXG5cdFx0XHR0aGlzLnVwZGF0ZUluZGV4Tm90ZXMoZmlsZS5wYXJlbnQpXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWN0dWFsaXphciBlbCBtYXBhIGRlIGVuY2FiZXphZG9zIGNvbiBlbCBlc3RhZG8gYWN0dWFsXHJcblx0XHR0aGlzLmZpbGVIZWFkZXJzTWFwLnNldChmaWxlLnBhdGgsIGN1cnJlbnRIZWFkZXJzKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PSBFeHRyYWUgZW5jYWJlemFkb3MgPT09PT09PT1cclxuXHJcblx0cHJpdmF0ZSBleHRyYWN0SGVhZGVycyhjb250ZW50OiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcblx0XHQvLyBFeHRyYWVyIHRvZG9zIGxvcyBlbmNhYmV6YWRvcyAobFx1MDBFRG5lYXMgcXVlIGVtcGllemFuIGNvbiAjKVxyXG5cdFx0Y29uc3QgaGVhZGVycyA9IGNvbnRlbnQubWF0Y2goL14jK1xccy4rJC9nbSkgfHwgW107XHJcblx0XHRyZXR1cm4gaGVhZGVycztcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PSBDb21wYXJhIGRvcyBsaXN0YXMgZGUgZW5jYWJlemFkb3NcclxuXHJcblx0cHJpdmF0ZSBoZWFkZXJzSGF2ZUNoYW5nZWQob2xkSGVhZGVyczogc3RyaW5nW10sIG5ld0hlYWRlcnM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XHJcblx0XHRpZiAob2xkSGVhZGVycy5sZW5ndGggIT09IG5ld0hlYWRlcnMubGVuZ3RoKSByZXR1cm4gdHJ1ZTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgb2xkSGVhZGVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAob2xkSGVhZGVyc1tpXSAhPT0gbmV3SGVhZGVyc1tpXSkgcmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHVwZGF0ZUFsbCgpIHtcclxuXHRcdGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZXMoKTtcclxuXHRcdGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG5cdFx0XHR0aGlzLmhhbmRsZUZpbGVNb2RpZnkoZmlsZSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBbUY7QUFHbkYsSUFBcUIsU0FBckIsY0FBb0MsdUJBQU87QUFBQSxFQUEzQztBQUFBO0FBQ0MsU0FBUSxpQkFBd0Msb0JBQUksSUFBSTtBQUFBO0FBQUEsRUFFeEQsTUFBTSxTQUFTO0FBQ2QsU0FBSyxXQUFXO0FBQUEsTUFDZixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixTQUFTLENBQUMsRUFBRSxXQUFXLENBQUMsS0FBSyxHQUFHLEtBQUssSUFBSSxDQUFDO0FBQUEsTUFDMUMscUJBQXFCLENBQUMsYUFBc0I7QUFDM0MsY0FBTSxPQUFPLEtBQUssSUFBSSxVQUFVLGNBQWM7QUFHOUMsWUFBSSxRQUFRLEtBQUssUUFBUTtBQUN4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
